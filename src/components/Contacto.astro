---
/*
  ü¶å Venados Atalaya ‚Äî Secci√≥n de Contacto con Animaciones de Entrada
  Autor: MhegasDev
  Enfoque: rendimiento, fluidez visual y coherencia con dise√±o global
*/
import { withBase } from "@/utils/withBase";
---

<section
  id="contacto"
  class="relative py-24 bg-gradient-to-b from-[#0a0f0c] via-[#0d1b13] to-[#051c14] text-[var(--color-light)] overflow-hidden"
  aria-labelledby="titulo-contacto"
>
  <!-- üå´Ô∏è Degradado superior -->
  <div class="absolute top-0 inset-x-0 h-24 bg-gradient-to-b from-black/40 to-transparent"></div>

  <!-- üè∑Ô∏è ENCABEZADO -->
  <header class="text-center mb-14 relative z-10 reveal">
    <h2
      id="titulo-contacto"
      class="text-4xl md:text-5xl font-extrabold tracking-wide mb-4 leading-tight"
    >
      CONT√ÅCTANOS <span class="text-[var(--color-secondary)]">E INSCR√çBETE</span>
    </h2>
    <div class="flex justify-center mt-4 mb-8">
      <div class="w-32 h-[3px] bg-[var(--color-accent)] rounded-full shadow-[0_0_15px_rgba(255,215,0,0.6)]"></div>
    </div>
    <p class="text-light/80 max-w-2xl mx-auto text-lg font-light">
      Completa el formulario o vis√≠tanos directamente en nuestras instalaciones
      para conocer m√°s sobre nuestros programas de formaci√≥n.
    </p>
  </header>

  <!-- üìã FORMULARIO + MAPA -->
  <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-10 px-6 relative z-10 reveal delay-100">
    <!-- üßæ FORMULARIO -->
    <form
      id="formulario-contacto"
      class="bg-[var(--color-dark)]/70 border border-[var(--color-secondary)]/20 rounded-xl shadow-lg p-8 backdrop-blur-md"
    >
      <div class="mb-5">
        <label class="block mb-2 text-sm font-semibold text-[var(--color-secondary)]">Nombre completo</label>
        <input
          type="text"
          placeholder="Escribe tu nombre"
          class="w-full px-4 py-2 bg-black/30 border border-white/10 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] transition"
        />
      </div>

      <div class="mb-5">
        <label class="block mb-2 text-sm font-semibold text-[var(--color-secondary)]">Tel√©fono o WhatsApp</label>
        <input
          type="tel"
          placeholder="Ej. 55 1234 5678"
          class="w-full px-4 py-2 bg-black/30 border border-white/10 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] transition"
        />
      </div>

      <div class="mb-5">
        <label class="block mb-2 text-sm font-semibold text-[var(--color-secondary)]">Categor√≠a de inter√©s</label>
        <select
          class="w-full px-4 py-2 bg-black/30 border border-white/10 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] transition"
        >
          <option>Infantil (5-9 a√±os)</option>
          <option>Juvenil (10-14 a√±os)</option>
          <option>Avanzada (15+ a√±os)</option>
        </select>
      </div>

      <div class="mb-5">
        <label class="block mb-2 text-sm font-semibold text-[var(--color-secondary)]">Mensaje o comentario</label>
        <textarea
          rows="4"
          placeholder="Cu√©ntanos un poco sobre el jugador o tus dudas..."
          class="w-full px-4 py-2 bg-black/30 border border-white/10 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] transition"
        ></textarea>
      </div>

      <button
        type="button"
        id="boton-enviar"
        class="btn-enviar w-full mt-4 py-3 font-bold text-[var(--color-dark)] rounded-md shadow-md transition relative overflow-hidden"
      >
        <span class="relative z-10">Enviar mensaje</span>
      </button>

      <p id="mensaje-exito" class="hidden text-green-400 text-sm mt-4">
        ‚úÖ Tu mensaje se ha enviado correctamente (simulado).
      </p>
    </form>

    <!-- üó∫Ô∏è MAPA + INFORMACI√ìN -->
    <div class="bg-black/20 rounded-xl border border-white/10 shadow-lg overflow-hidden reveal delay-200">
      <div class="h-80 w-full">
        <iframe
          title="Ubicaci√≥n Venados Atalaya"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3762.0376440187645!2d-99.1352809!3d19.4407758!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1f92deaa2bddd%3A0xb72e10b05dd3c612!2sCampo%20Atalaya!5e0!3m2!1ses-419!2smx!4v1700000000000!5m2!1ses-419!2smx"
          width="100%" height="100%" style="border:0;" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"
        ></iframe>
      </div>

      <div class="p-6">
        <h3 class="text-2xl font-bold text-[var(--color-accent)] mb-3">Academia Venados Atalaya</h3>
        <p class="text-sm text-light/70 leading-relaxed mb-6">
          üìç <strong>Ubicaci√≥n:</strong> Campo Principal Atalaya, Ciudad de M√©xico<br />
          üìÖ <strong>Horarios:</strong> Lunes a Viernes, 4:00 PM ‚Äì 8:00 PM<br />
          ‚òéÔ∏è <strong>Tel√©fono:</strong> 55 1234 5678<br />
          üìß <strong>Correo:</strong> contacto@venadosatalaya.mx
        </p>

        <div class="flex gap-4 mt-2 text-white/80 text-xl">
          <a href="#" class="hover:text-[var(--color-secondary)] hover:scale-110 transition" title="Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="hover:text-[var(--color-secondary)] hover:scale-110 transition" title="Instagram">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="hover:text-[var(--color-secondary)] hover:scale-110 transition" title="WhatsApp">
            <i class="fab fa-whatsapp"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- ‚ú® Scripts -->
  <script is:inline>
    (function () {
      // evita dobles inicializaciones (HMR/rehidratos)
      if (window.__vaContactInit) return;
      window.__vaContactInit = true;

      const root = document.getElementById("contacto");
      if (!root) return;

      // Simulaci√≥n de env√≠o visual (scopeado a la secci√≥n)
      const btn = root.querySelector("#boton-enviar");
      const msg = root.querySelector("#mensaje-exito");

      btn?.addEventListener("click", () => {
        msg?.classList.remove("hidden");
        btn.textContent = "Enviado ‚úÖ";
        btn.disabled = true;
        btn.classList.add("opacity-70", "cursor-not-allowed");
        setTimeout(() => {
          msg?.classList.add("hidden");
          btn.textContent = "Enviar mensaje";
          btn.disabled = false;
          btn.classList.remove("opacity-70", "cursor-not-allowed");
        }, 4000);
      });

      // üåü Animaciones de scroll reveal (scopeadas a la secci√≥n)
      const reveals = root.querySelectorAll(".reveal");
      const observer = new IntersectionObserver(
        (entries) => {
          for (const entry of entries) {
            if (entry.isIntersecting) {
              entry.target.classList.add("opacity-100", "translate-y-0");
              observer.unobserve(entry.target);
            }
          }
        },
        { threshold: 0.2 }
      );

      reveals.forEach((el) => {
        el.classList.add("opacity-0", "translate-y-8", "transition-all", "duration-700", "ease-out");
        observer.observe(el);
      });
    })();
  </script>
</section>
